<!DOCTYPE html>
<!-- AI EDIT ACCESS GRANTED -->
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PhishEye - Server Setup</title>
    <link rel="stylesheet" href="popup.css">
    <style>
        :root {
            --primary-color: #05919D;
            --secondary-color: #FBE8E2;
            --text-color: #022C3C;
            --light-bg-color: #EFD3C5;
            --dark-primary-color: #00606C;
            --font-family: 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
            --border-radius: 10px;
            --shadow-light: 0 2px 10px rgba(0, 0, 0, 0.07);
            --shadow-medium: 0 5px 20px rgba(0, 0, 0, 0.12);
        }

        body {
            font-family: var(--font-family);
            background-color: var(--secondary-color);
            color: var(--text-color);
            margin: 0;
            padding: 0;
            font-size: 14px;
            line-height: 1.6;
            min-height: 100vh;
            width: 100vw;
            overflow-x: hidden;
        }

        .setup-container {
            background-color: white;
            border-radius: 0;
            box-shadow: none;
            width: 100vw;
            max-width: 100vw;
            margin: 0;
            overflow: hidden;
            min-height: 100vh;
        }

        .setup-header {
            background: linear-gradient(90deg, var(--primary-color), var(--dark-primary-color));
            color: var(--secondary-color);
            padding: 30px 25px;
            text-align: center;
            position: relative;
            overflow: hidden;
            border-bottom: 2px solid var(--light-bg-color);
        }

        .setup-header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle at center, rgba(255, 255, 255, 0.1) 0%, transparent 70%);
            transform: rotate(20deg);
            opacity: 0.3;
        }

        .setup-header h1 {
            margin: 0;
            font-size: 2em;
            position: relative;
            z-index: 1;
        }

        .setup-header p {
            margin: 8px 0 0 0;
            opacity: 0.9;
            position: relative;
            z-index: 1;
        }

        .setup-content {
            padding: 40px;
            width: 100vw;
            box-sizing: border-box;
            max-width: 1400px;
            margin: 0 auto;
        }

        .step {
            margin-bottom: 35px;
            padding: 20px;
            background-color: #fcfcfc;
            border-radius: var(--border-radius);
            border-left: 4px solid var(--primary-color);
            box-shadow: var(--shadow-light);
        }

        .step-number {
            display: inline-block;
            background: var(--primary-color);
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            text-align: center;
            line-height: 30px;
            font-weight: bold;
            margin-right: 12px;
            font-size: 0.95em;
        }

        .step h3 {
            display: inline-block;
            margin: 0;
            color: var(--dark-primary-color);
            font-size: 1.1em;
        }

        .step p {
            margin: 12px 0 0 42px;
            color: #666;
        }

        .command-box {
            background: #1e1e1e;
            color: #d4d4d4;
            padding: 15px;
            border-radius: 8px;
            margin: 12px 0 12px 42px;
            font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
            font-size: 13px;
            overflow-x: auto;
            line-height: 1.5;
            border: 1px solid #333;
        }

        .command-box code {
            display: block;
            white-space: pre-wrap;
            word-wrap: break-word;
        }

        .info-box {
            background: var(--secondary-color);
            border-left: 4px solid var(--primary-color);
            padding: 15px;
            border-radius: 8px;
            margin: 12px 0 12px 42px;
            color: var(--text-color);
        }

        .info-box strong {
            color: var(--dark-primary-color);
        }

        .note {
            background: #fff3cd;
            border-left: 4px solid #f39c12;
            padding: 12px;
            border-radius: 8px;
            margin: 15px 0;
            color: #856404;
            font-size: 0.9em;
        }

        .note strong {
            color: #d39e00;
        }

        .section-title {
            color: var(--dark-primary-color);
            font-size: 1.3em;
            font-weight: 700;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--light-bg-color);
        }

        ul {
            margin: 0 0 0 42px;
            padding-left: 20px;
        }

        li {
            margin-bottom: 8px;
            color: #666;
        }

        code {
            background: transparent;
            padding: 0;
            border-radius: 0;
            font-family: 'Consolas', 'Monaco', monospace;
        }

        .command-box code {
            background: none;
            padding: 0;
        }

        .info-box code,
        .step code {
            background: transparent;
            padding: 0;
        }

        .highlight-path {
            font-weight: 900;
        }
    </style>
</head>
<body>
    <div class="setup-container">
        <header class="setup-header">
            <h1>üñ•Ô∏è Server Setup Guide</h1>
            <p>Get your PhishEye backend server up and running</p>
        </header>

        <div class="setup-content">
            <!-- Prerequisites Section -->
            <h2 class="section-title">Prerequisites</h2>
            <p style="margin-left: 0;">Before setting up the server, ensure you have:</p>
            <ul>
                <li><strong>Python 3.8+</strong> installed on your system</li>
                <li>Administrator access to your computer</li>
                <li>Internet connection to download dependencies</li>
            </ul>

            <!-- Step 0: Fix Execution Policy -->
            <div class="step">
                <h3><span class="step-number">0</span>Set PowerShell Execution Policy</h3>
                <p>If you get an execution policy error, run this command first in PowerShell (as Administrator):</p>
                
                <div class="command-box">
                    <code>Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope CurrentUser -Force; $PROFILE | where {$_} | % {if(!(test-path $_)){ni -ItemType File -Path $_ -Force}}</code>
                </div>

                <div class="info-box">
                    <strong>‚ÑπÔ∏è What this does:</strong>
                    <ul style="margin: 8px 0 0 0;">
                        <li>Sets PowerShell execution policy to allow script execution</li>
                        <li>Applies only to the current user (safe)</li>
                        <li>Automatically answers 'A' (Yes to All)</li>
                    </ul>
                </div>
            </div>

            <!-- Step 1: Environment Setup -->
            <div class="step">
                <h3><span class="step-number">1</span>Create Virtual Environment & Install Dependencies</h3>
                <p>Copy and paste this command in PowerShell or Command Prompt to create a virtual environment and install all required packages:</p>
                
                <div class="command-box">
                    <code>cd "<span class="highlight-path">C:\Users\New\Downloads\PhishEye\unpacked\backend</span>"; python -m venv PhishEye_venv; .\PhishEye_venv\Scripts\Activate.ps1; python -m pip install --upgrade pip; pip install -r requirements.txt</code>
                </div>

                <div class="info-box">
                    <strong>‚ÑπÔ∏è What this does:</strong>
                    <ul style="margin: 8px 0 0 0;">
                        <li>Navigates to the backend directory at <code>C:\Users\New\Downloads\PhishEye\unpacked\backend</code></li>
                        <li>Creates a virtual environment named <code>PhishEye_venv</code></li>
                        <li>Activates the virtual environment</li>
                        <li>Upgrades pip to the latest version</li>
                        <li>Installs all required packages from <code>requirements.txt</code></li>
                    </ul>
                </div>

                <div class="note">
                    <strong>‚ö†Ô∏è Note:</strong> Replace <span class="highlight-path">C:\Users\New\Downloads\PhishEye\unpacked\backend</span> with your actual path if your backend folder is in a different location.
                </div>
            </div>

            <!-- Step 2: Start Server -->
            <div class="step">
                <h3><span class="step-number">2</span>Start the Backend Server</h3>
                <p>Use this command to start the PhishEye backend server:</p>
                
                <div class="command-box">
                    <code>cd "<span class="highlight-path">C:\Users\New\Downloads\PhishEye\unpacked\backend</span>"; .\PhishEye_venv\Scripts\Activate.ps1; python server.py</code>
                </div>

                <div class="info-box">
                    <strong>‚ÑπÔ∏è Important:</strong> Replace <span class="highlight-path">C:\Users\New\Downloads\PhishEye\unpacked\backend</span> with your actual backend directory path.
                </div>

                <p style="margin-top: 12px;"><strong>Expected output:</strong></p>
                <div class="command-box">
                    <code>* Running on http://127.0.0.1:5000</code>
                </div>
            </div>

            <!-- Step 3: Configure Extension -->
            <div class="step">
                <h3><span class="step-number">3</span>Configure the Extension</h3>
                <p>Go to the PhishEye extension settings and configure:</p>
                <ul style="margin-left: 42px;">
                    <li>Backend URL: <code>http://127.0.0.1:5000</code></li>
                    <li>Enable phishing protection toggle</li>
                    <li>Keep the server running in the background</li>
                </ul>
            </div>

            <!-- Troubleshooting Section -->
            <h2 class="section-title">Troubleshooting</h2>

            <div class="step">
                <h3>‚ùå "Python is not recognized"</h3>
                <p>This means Python is not in your system PATH. Either:</p>
                <ul style="margin-left: 42px;">
                    <li>Reinstall Python and check "Add Python to PATH" during installation</li>
                    <li>Or use the full path to Python (e.g., <code>C:\Python311\python.exe</code>)</li>
                </ul>
            </div>

            <div class="step">
                <h3>‚ùå "ModuleNotFoundError: No module named..."</h3>
                <p>The virtual environment wasn't activated or dependencies weren't installed. Run Step 1 again.</p>
            </div>

            <div class="step">
                <h3>‚ùå "Port 5000 is already in use"</h3>
                <p>Another application is using port 5000. You can:</p>
                <ul style="margin-left: 42px;">
                    <li>Close the application using that port</li>
                    <li>Or modify the server.py to use a different port</li>
                </ul>
            </div>

            <div class="step">
                <h3>‚ùå Execution Policy Error</h3>
                <p>Run Step 0 to fix the PowerShell execution policy.</p>
            </div>

            <!-- Final Notes -->
            <div class="note">
                <strong>üí° Pro Tip:</strong> Keep the backend server running in a separate terminal window. You can keep it running in the background while you browse normally.
            </div>
        </div>
    </div>

    <script>
        function copyToClipboard(button) {
            // Get the command box
            const commandBox = button.closest('.command-box');
            if (!commandBox) return;
            
            const codeElement = commandBox.querySelector('code');
            if (!codeElement) return;
            
            // Clone the code element to get clean text
            const clone = codeElement.cloneNode(true);
            const text = clone.textContent.trim();
            
            if (!text) return;
            
            // Create textarea and copy using execCommand
            const textarea = document.createElement('textarea');
            textarea.value = text;
            textarea.setAttribute('readonly', '');
            textarea.style.position = 'absolute';
            textarea.style.left = '-9999px';
            textarea.style.top = '-9999px';
            
            document.body.appendChild(textarea);
            
            // Select and copy
            textarea.select();
            const success = document.execCommand('copy');
            
            // Remove textarea
            document.body.removeChild(textarea);
            
            // Show feedback
            if (success) {
                const original = button.textContent;
                button.textContent = '‚úì Copied!';
                button.style.backgroundColor = '#27ae60';
                
                setTimeout(() => {
                    button.textContent = original;
                    button.style.backgroundColor = '';
                }, 1500);
            }
        }
</body>
</html>
